<h2>Description</h2>

<p>In this stage, we will add another filter - <strong>contrast filter</strong>.<br>
A <strong>contrast value </strong>of <em>0</em><strong> </strong>means that all pixels have the same brightness value. A contrast value of <em>1</em><strong> </strong>means that the difference between the highest brightness and lowest brightness is 255.<br>
To regulate contrast we must be able to spread/tight up each pixel brightness from the average image brightness.<br>
The Contrast filter isn't really harder to implement than the brightness filter, but that doesn't necessarily  mean this stage difficulty is the same as stage 2.<br>
The catch is, both filters should affect each other and work at the same time.<br>
Also another filter means we will add yet another slider which will regulate the <em>contrast value</em>. </p>

<h2>Objectives</h2>

<p>Add the following components to the application layout:</p>

<ol>
	<li><code>Slider</code> widget for specifying the photo <em>contrast</em> with the <code>id</code> attribute <code>slContrast</code>; the values range from -250 to 250 with the step size 10 and initial value 0</li>
</ol>

<p>The contrast filter values<strong> </strong>can be calculated in the following way:</p>

<p>R = alpha*(R - avg_bright) + avg_bright<br>
G = alpha*(G - avg_bright) + avg_bright<br>
B = alpha*(B - avg_bright) + avg_bright</p>

<p>where<strong>:</strong><br>
alpha = (255+<em>contrast</em>)/(255-<em>contrast</em>)<br>
avg_bright = average image brightness</p>

<p><em>contrast</em><u> </u>is simply the current contrast slider value.</p>

<p>Also, when calculating alpha you have to use Double/Float, otherwise use just Ints. There can be some diffrences due to rounding/casting, so tests have some margin error.</p>

<p><em>Now the most crucial part!</em></p>

<p>Order in which filters are applied matters, also it doesn't make sense to make filter operations for out of bounds colors.</p>

<p>To pass the tests filters must be applied in the following order:</p>

<p>brightnessFilter -&gt; contrastFilter</p>

<h2>Examples</h2>

<p> </p>

<p> </p>

<p><img alt="" height="520" name="Android Emulator - Pixel_3a_API_30_x86_5554 2021-12-05 12-12-03.gif" src="https://ucarecdn.com/024b37ab-7c1d-410d-be19-8031fa1e4835/" width="270"></p>