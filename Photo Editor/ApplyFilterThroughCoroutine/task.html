<h2>Description</h2>

<p>In this stage, we will make use of one of Kotlin&#39;s most prominent features&nbsp;&nbsp;-&nbsp;<strong>coroutines</strong>.<br />
Applying filters should no longer freeze UI, it should be done in the background.</p>

<h2>Objectives</h2>

<p>Make sure you have the following dependencies added to the build.gradle file</p>

<ol>
	<li><code>implementation(&quot;org.jetbrains.kotlinx:kotlinx-coroutines-android:1.3.9&quot;)</code></li>
</ol>

<p>Then you need to invoke your&nbsp;filter applier function&nbsp;asynchronously through for example&nbsp;<strong>CoroutineScope.</strong><br />
Also there&nbsp;won&#39;t be any tests with big images, but if you want your app not to go out of memory very quickly with let&#39;s say 3264x2248 pictures&nbsp;then you must also implement proper scale down function to like 1224 width, 1632 height while maintaining picture aspect ratio.</p>

<p>The tests depend on the start bitmap so it&#39;s not necessary to do this.</p>

<p>The difference coroutines make in this app will start to be&nbsp; noticeable on medium size pictures</p>

<h2>Examples</h2>

<p>App should not be lagging at all, regardless of image size, while swiping sliders.</p>

<p>Before: (1200x1600 pixels image)</p>

<p><img alt="" height="520" name="Android Emulator - Pixel_3a_API_30_x86_5554 2021-12-05 12-48-53.gif" src="https://ucarecdn.com/020981df-aff0-4eac-b056-1df62718ea84/" width="270" /></p>

<p>After:&nbsp;(1200x1600 pixels image)</p>

<p><img alt="" height="520" name="Android Emulator - Pixel_3a_API_30_x86_5554 2021-12-05 12-53-13.gif" src="https://ucarecdn.com/5434d0b2-48c3-4240-a093-b5794e102f93/" width="270" /></p>
